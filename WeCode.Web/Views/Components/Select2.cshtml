

<div>
    <select2 id="select2-demo"
             ref="childComponent"
             :disabled="false" :placeholder="'ssss'"
             :options="categories" :value.sync="selected"
             :value-field="'Code'" :text-field="'Description'"
             v-on:value-changed="onValueChanged"
             v-on:content-loaded="onContentLoaded" />

</div>



<script>

    jQuery(document).ready(function () {

        var app = new Vue({
            el: '#select2-demo',
            data: {
                selected: '',
                categories: []
            },
            methods: {
                onValueChanged: function (newValue) {
                    console.log("on value changed", this.selected);
                },
                onContentLoaded: function () {
                    console.log("content loaed");
                }
            }
        })

        // categories
        $.getJSON(apiUrl + 'categories', function (result) {
            app.categories = result;

            app.$refs.childComponent.$on('content-loaded', function () {
                app.selected = result[2].Code;
            });

        });

    });

</script>

