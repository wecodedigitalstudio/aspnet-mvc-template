

<div class="row" >
    @*<select2 id="select2-demo"
             ref="childComponent"
             :disabled="false" :placeholder="'ssss'"
             :options="categories" :value.sync="selected"
             :value-field="'Code'" :text-field="'Description'"
             v-on:value-changed="onValueChanged"
             v-on:content-loaded="onContentLoaded" />*@

    <select2 id="select2-ajax-demo" class="form-control"
             :disabled="false" :placeholder="'ssss'"
             :url="'http://localhost:50510/api/Countries'" :value.sync="selected" :text="'arcadia'"
             :value-field="'Code'" :text-field="'Description'"
             v-on:value-changed="onValueChanged" />

</div>



<script>

    jQuery(document).ready(function () {

        var app = new Vue({
            el: '#select2-ajax-demo',
            data: {
                selected: '4',
                categories: []
            },
            methods: {
                onValueChanged: function (newValue) {
                    console.log("on value changed", this.selected);
                }
            }
        })

        //var app = new Vue({
        //    el: '#select2-demo',
        //    data: {
        //        selected: '',
        //        categories: []
        //    },
        //    methods: {
        //        onValueChanged: function (newValue) {
        //            console.log("on value changed", this.selected);
        //        },
        //        onContentLoaded: function () {
        //            console.log("content loaed");
        //        }
        //    }
        //})

        // categories
        $.getJSON(apiUrl + 'categories', function (result) {
            app.categories = result;

            //app.$refs.childComponent.$on('content-loaded', function () {
            //    app.selected = result[2].Code;
            //});

        });

    });

</script>

